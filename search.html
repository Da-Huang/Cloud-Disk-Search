<!DOCTYPE HTML>
<html>
<head>
<meta charset='utf8'>
</head>
<body>
<form id='search'>
	<input type='text' id='query'/>
</form>
<button id='searchButton'>查询</button>
<div id='res'>



</div>

</body>
<script language='javascript' type='text/javascript'>
var request = new XMLHttpRequest();
request.onreadystatechange = update;
var res;
function search(keywords, fileType, start, limit) {
	request.open('POST', 'http://162.105.205.253:7777', true);
	var query = {'type':'search'};
	query['fileType'] = fileType;
	query['query'] = keywords;
	query['start'] = start;
	query['limit'] = limit;
	request.send(JSON.stringify(query));
	document.getElementById('res').innerText = 'waiting ...';
}
function update() {
	res = JSON.parse(request.responseText);
	document.getElementById('res').innerText = JSON.stringify(res);
}
var searchButton = document.getElementById('searchButton');
searchButton.onclick = function() {
	var query = document.getElementById('query').value;
	search(query, 'all', 0, 100);
};
function itemHTML(item) {
	var html = "<div>";
	return html;
}
</script>
<style type='text/css'>
* {
	font-family:monospace;
	text-align:justify;
	text-justify:distribute-all-lines;
}
div.item {
	border-collapse:collapse;
	border:2px solid black;
	border-width:2px 2px 0px 2px;
	padding:0px 5px;
	margin:0px 10px;
}
div.item>* {
	padding:5px 5px;
	border:0;
	margin:0;
}
</style>
</html>